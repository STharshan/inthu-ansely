/* ========================================
   Tailwind Imports
   ======================================== */
@import "tailwindcss";
@import "tw-animate-css";

@custom-variant dark (&:is(.dark *));

/* ========================================
   Custom Fonts
   ======================================== */
@font-face {
  font-family: "Regular";
  src: url("/fonts/regular.otf");
  font-display: swap;
}

@font-face {
  font-family: "Medium";
  src: url("/fonts/medium.otf");
  font-display: swap;
}

@font-face {
  font-family: "SemiBold";
  src: url("/fonts/semibold.otf");
  font-display: swap;
}

@font-face {
  font-family: "Bold";
  src: url("/fonts/bold.otf");
  font-display: swap;
}

/* ========================================
   CSS Variables (Design Tokens)
   ======================================== */
:root {
  /* Brand Colors */
  --brand-blue: #0045ef;
  --brand-blue-hover: #0039cc;
  --brand-blue-light: #0066ff;
  --brand-dark: #0d0d0d;
  --brand-dark-alt: #0f0f0f;
  --brand-light: #f5f5f7;

  /* Gradient Colors */
  --gradient-start: #001a4d;
  --gradient-middle: #0033a0;
  --gradient-end: #002266;

  /* Spacing & Sizing */
  --radius: 0.625rem;

  /* Semantic Colors - Light Mode */
  --background: oklch(1 0 0);
  --foreground: oklch(0.145 0 0);
  --card: oklch(1 0 0);
  --card-foreground: oklch(0.145 0 0);
  --popover: oklch(1 0 0);
  --popover-foreground: oklch(0.145 0 0);
  --primary: oklch(0.205 0 0);
  --primary-foreground: oklch(0.985 0 0);
  --secondary: oklch(0.97 0 0);
  --secondary-foreground: oklch(0.205 0 0);
  --muted: oklch(0.97 0 0);
  --muted-foreground: oklch(0.556 0 0);
  --accent: oklch(0.97 0 0);
  --accent-foreground: oklch(0.205 0 0);
  --destructive: oklch(0.577 0.245 27.325);
  --border: oklch(0.922 0 0);
  --input: oklch(0.922 0 0);
  --ring: oklch(0.708 0 0);
}

/* Dark Mode Variables */
.dark {
  --background: oklch(0.145 0 0);
  --foreground: oklch(0.985 0 0);
  --card: oklch(0.205 0 0);
  --card-foreground: oklch(0.985 0 0);
  --popover: oklch(0.205 0 0);
  --popover-foreground: oklch(0.985 0 0);
  --primary: oklch(0.922 0 0);
  --primary-foreground: oklch(0.205 0 0);
  --secondary: oklch(0.269 0 0);
  --secondary-foreground: oklch(0.985 0 0);
  --muted: oklch(0.269 0 0);
  --muted-foreground: oklch(0.708 0 0);
  --accent: oklch(0.269 0 0);
  --accent-foreground: oklch(0.985 0 0);
  --destructive: oklch(0.704 0.191 22.216);
  --border: oklch(1 0 0 / 10%);
  --input: oklch(1 0 0 / 15%);
  --ring: oklch(0.556 0 0);
}

/* ========================================
   Tailwind Theme Configuration
   ======================================== */
@theme {
  /* Typography */
  --font-regular: "Regular";
  --font-medium: "Medium";
  --font-semibold: "SemiBold";
  --font-bold: "Bold";

  /* Legacy Colors (for backward compatibility) */
  --color-primary: #0071e3;
  --color-dark-100: #86868b;
  --color-dark-200: #2e2e30;
  --color-light-100: #adb5bd;

  /* Brand Colors - Tailwind Classes */
  --color-brand-blue: var(--brand-blue);
  --color-brand-blue-hover: var(--brand-blue-hover);
  --color-brand-blue-light: var(--brand-blue-light);
  --color-brand-dark: var(--brand-dark);
  --color-brand-dark-alt: var(--brand-dark-alt);
  --color-brand-light: var(--brand-light);

  /* Gradient Colors */
  --color-gradient-start: var(--gradient-start);
  --color-gradient-middle: var(--gradient-middle);
  --color-gradient-end: var(--gradient-end);

  /* Animations */
  --animate-scroll-left: scrollLeft 30s linear infinite;
  --animate-scroll-right: scrollRight 30s linear infinite;
}

@theme inline {
  /* Radius Scale */
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
  --radius-2xl: calc(var(--radius) + 8px);
  --radius-3xl: calc(var(--radius) + 12px);
  --radius-4xl: calc(var(--radius) + 16px);

  /* Semantic Color Mappings */
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --color-destructive: var(--destructive);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);
}

/* ========================================
   Custom Utilities
   ======================================== */
@utility flex-center {
  @apply flex items-center justify-center;
}

@utility flex-between {
  @apply flex items-center justify-between;
}

@utility col-center {
  @apply flex flex-col items-center justify-center;
}

@utility abs-center {
  @apply absolute -translate-x-1/2 -translate-y-1/2 top-1/2 left-1/2;
}

@utility h3-semibold {
  @apply text-xl font-semibold text-dark-100;
}

@utility base-semibold {
  @apply text-base font-semibold text-dark-100;
}

@utility small-medium {
  @apply text-xs font-medium;
}

/* ========================================
   Base Styles
   ======================================== */
@layer base {
  * {
    @apply border-border outline-ring/50;
    scrollbar-color: var(--color-dark-100) var(--color-brand-dark);
  }

  body {
    @apply bg-background text-foreground;
    width: 100vw;
    overflow-x: hidden;
    font-family: var(--font-semibold);
  }
}

/* ========================================
   Keyframe Animations
   ======================================== */
@keyframes scrollLeft {
  0% {
    transform: translateX(0);
  }
  100% {
    transform: translateX(-25%);
  }
}

@keyframes scrollRight {
  0% {
    transform: translateX(0);
  }
  100% {
    transform: translateX(25%);
  }
}

@keyframes shutterDown {
  0% {
    clip-path: inset(0 0 100% 0);
    opacity: 0;
  }
  40% {
    opacity: 0.7;
  }
  100% {
    clip-path: inset(0 0 0 0);
    opacity: 1;
  }
}

@keyframes shutterUp {
  0% {
    clip-path: inset(0 0 0 0);
    opacity: 1;
  }
  60% {
    opacity: 0.6;
  }
  100% {
    clip-path: inset(0 0 100% 0);
    opacity: 0;
  }
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slideIn {
  from {
    opacity: 0;
    transform: translateY(-5px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* ========================================
   Animation Classes
   ======================================== */
.animate-scroll-left {
  animation: scrollLeft 30s linear infinite;
}

.animate-scroll-right {
  animation: scrollRight 30s linear infinite;
}

/* ========================================
   Navbar Styles
   ======================================== */
.navbar-bg {
  @apply absolute top-0 left-0 right-0 h-full;
  clip-path: inset(0 0 100% 0);
  opacity: 0;
}

.navbar-bg.active {
  animation: shutterDown 1.2s cubic-bezier(0.65, 0, 0.35, 1) forwards;
}

.navbar-bg.inactive {
  animation: shutterUp 1.2s cubic-bezier(0.65, 0, 0.35, 1) forwards;
}

.nav-line {
  @apply absolute bottom-0 left-0 right-0 h-px transition-colors duration-500;
}

/* ========================================
   Interactive Element Styles
   ======================================== */
.social-icon {
  @apply relative overflow-hidden;
}

.social-icon::before {
  content: "";
  @apply absolute top-1/2 left-1/2 w-0 h-0 rounded-full bg-current opacity-20;
  transform: translate(-50%, -50%);
  transition: width 0.4s ease, height 0.4s ease;
}

.social-icon:hover::before {
  @apply w-full h-full;
}

.cta-button {
  @apply relative overflow-hidden;
}

.cta-button::before {
  content: "";
  @apply absolute top-1/2 left-1/2 w-0 h-0 rounded-full;
  background: rgba(255, 255, 255, 0.2);
  transform: translate(-50%, -50%);
  transition: width 0.6s ease, height 0.6s ease;
}

.cta-button:hover::before {
  width: 300%;
  height: 300%;
}

.theme-toggle-icon {
  @apply transition-transform duration-500;
}

.theme-toggle-icon.rotate {
  transform: rotate(360deg);
}

/* ========================================
   Glass Effect
   ======================================== */
.glass-container {
  background: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
}

.glass-container select {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='8' viewBox='0 0 12 8' fill='none'%3E%3Cpath d='M1 1L6 6L11 1' stroke='white' stroke-width='1.5' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: right 1rem center;
  background-size: 12px 8px;
}

.glass-container input::placeholder,
.glass-container textarea::placeholder {
  color: rgba(255, 255, 255, 0.4);
}

.glass-container input:focus,
.glass-container textarea:focus,
.glass-container select:focus {
  border-color: rgba(255, 255, 255, 0.3);
  box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.1);
}

/* ========================================
   Swiper Pagination Styles
   ======================================== */
.testimonials-swiper :global(.swiper-pagination) {
  @apply bottom-0 py-5;
  gap: 12px;
}

.testimonials-swiper :global(.swiper-pagination-bullet) {
  @apply w-2 h-2 opacity-100 transition-colors duration-300;
  background: rgba(0, 0, 0, 0.3);
  margin: 0 6px !important;
}

.dark .testimonials-swiper :global(.swiper-pagination-bullet) {
  background: rgba(255, 255, 255, 0.3);
}

.testimonials-swiper :global(.swiper-pagination-bullet-active) {
  background: rgba(0, 0, 0, 0.7);
}

.dark .testimonials-swiper :global(.swiper-pagination-bullet-active) {
  background: rgba(255, 255, 255, 0.9);
}

.testimonials-swiper :global(.swiper-slide) {
  @apply h-auto;
}

.testimonials-swiper :global(.swiper-slide > div) {
  @apply h-full;
}

/* ========================================
   Legacy Section Styles (To be migrated)
   ======================================== */
@layer components {
  #performance {
    @apply relative flex flex-col items-center h-full pt-20 overflow-hidden w-dvw lg:pt-20;

    h2 {
      @apply max-w-2xl text-3xl font-semibold text-center text-white lg:text-6xl;
    }

    .wrapper {
      @apply w-7xl 2xl:w-[100rem] h-[50vh] lg:h-screen relative;

      img {
        @apply max-w-40 lg:max-w-[27rem] 2xl:max-w-[35rem] object-cover object-center;
      }

      .p1 {
        @apply absolute bottom-1/2 left-[23%] z-[1] max-sm:left-[33%];
      }
      .p2 {
        @apply absolute bottom-[40%] right-[17%] z-[3] max-sm:right-[37%];
      }
      .p3 {
        @apply absolute bottom-1/4 right-[15%] z-[2] max-sm:right-[35%];
      }
      .p4 {
        @apply absolute bottom-[15%] right-[10%] z-[1] max-sm:right-[30%];
      }
      .p5 {
        @apply absolute bottom-[20%] left-1/2 -translate-x-1/2 scale-150;
      }
      .p6 {
        @apply absolute bottom-1/4 left-1/4 z-[2] max-sm:left-[35%];
      }
      .p7 {
        @apply absolute bottom-[5%] left-[15%] z-[3] max-sm:left-[35%];
      }
    }

    .content {
      @apply max-w-xl mx-auto mt-24;

      p {
        @apply px-5 text-center translate-y-10 opacity-0 lg:h3-semibold base-semibold;
      }
    }
  }

  #showcase {
    @apply relative;

    .media {
      @apply relative lg:overflow-hidden;

      video {
        @apply object-cover object-center w-full;
      }

      .mask {
        @apply absolute top-0 h-full lg:-top-20 xl:top-0;

        img {
          @apply h-full scale-150 lg:scale-100;
          transform: matrix(80, 0, 0, 80, 0, 0);
        }

        @media (max-width: 1024px) {
          img {
            transform: matrix(1, 0, 0, 1, 0, 0);
          }
        }
      }
    }

    .content {
      @apply relative z-10 my-5 text-xl font-semibold bg-black lg:-mt-40 text-dark-100 lg:opacity-0;

      .wrapper {
        @apply container flex flex-col justify-center gap-20 px-5 pb-20 mx-auto 2xl:px-0 lg:flex-row;
      }

      h2 {
        @apply text-3xl font-semibold text-white lg:text-7xl;
      }
      h3 {
        @apply text-xl font-semibold text-white lg:text-5xl;
      }
    }
  }

  #highlights {
    @apply container mx-auto lg:py-40 max-lg:px-5;

    h2 {
      @apply max-w-3xl mx-auto text-3xl font-semibold text-center text-white lg:text-7xl;
    }
    h3 {
      @apply text-brand-light font-semibold text-xl lg:text-3xl text-center mt-10;
    }

    .masonry {
      @apply grid grid-cols-1 lg:grid-cols-2 gap-5 mt-20 text-brand-light;

      .left-column {
        @apply flex flex-col justify-between gap-5 -translate-y-5 opacity-0;

        div:first-of-type {
          @apply h-full bg-[url(/highlight-bg.png)] bg-no-repeat bg-cover p-10 2xl:pt-32 lg:pt-20 rounded-3xl;
          p {
            @apply text-4xl font-semibold max-w-2xs;
          }
        }

        p {
          @apply text-4xl font-semibold max-w-2xs;
        }

        div:last-of-type {
          @apply bg-[#1D1D1F] p-10 rounded-3xl flex items-center gap-7;
          p {
            @apply font-semibold lg:text-2xl 2xl:text-3xl;
          }
        }
      }

      .right-column {
        @apply flex flex-col justify-between gap-5 -translate-y-5 opacity-0;

        p {
          @apply text-4xl font-semibold max-w-2xs;
        }

        .apple-gradient {
          @apply relative flex items-center p-10 rounded-3xl gap-7;
          background: #1d1d1f;
          background-clip: padding-box;
          border: 3px solid transparent;

          &::before {
            content: "";
            @apply pointer-events-none absolute inset-0 -z-10 -m-[5px] rounded-3xl;
            background: linear-gradient(91deg, #0096ff 0%, #bb64ff 42%, #f2416b 74%, #eb7500 100%);
          }

          p {
            @apply font-semibold lg:text-2xl 2xl:text-3xl;
            span {
              background: linear-gradient(
                91deg,
                #0096ff 0%,
                #bb64ff 42%,
                #f2416b 74%,
                #eb7500 100%
              );
              background-clip: text;
              -webkit-background-clip: text;
              -webkit-text-fill-color: transparent;
            }
          }
        }

        div:last-of-type {
          @apply h-full bg-[#1D1D1F] p-10 2xl:pt-32 lg:pt-20 rounded-3xl;
          p {
            @apply max-w-sm text-4xl font-semibold;
            .green-gradient {
              background: linear-gradient(90deg, #35a98a 0%, #6dd400 100%);
              background-clip: text;
              -webkit-background-clip: text;
              -webkit-text-fill-color: transparent;
            }
          }
        }
      }
    }
  }
}
